<!DOCTYPE html>
<html lang="ru">

  <head>
    <title>Что нового в Swift 3? &#x2F; Хабр</title>

































    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    

    
    
    
    
    
  </head>
  <body>
    
    <div id="mount"><div id="app"><div class="tm-layout__wrapper"><!--[--><!----><div></div><div class="header-banner-wrapper"><div class="element-wrapper above-header" style="--754c4550:100%;--56cb6579:auto;"><!--[--><div class="placeholder-wrapper banner-container__placeholder"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="adfox-banner-placeholder above-header" data-v-24012b5e><div class="image loads" data-v-24012b5e></div><div class="lines" data-v-24012b5e><div class="line loads" data-v-24012b5e></div><div class="line loads" data-v-24012b5e></div><div class="line loads" data-v-24012b5e></div></div></div><!----><!----><!----></div><!--[--><div id="adfox_175449164307199013_aboveHeader" class="banner-target"></div><!--]--><!--]--></div></div><header class="tm-header tm-header" data-test-id="header"><!----><!----><div class="tm-page-width"><!--[--><div class="tm-header__container"><button aria-expanded="false" aria-label="Toggle menu" class="burger-button tm-header__button tm-header__burger" data-v-56ed7aae><span class="line top" data-v-56ed7aae></span><span class="line middle" data-v-56ed7aae></span><span class="line bottom" data-v-56ed7aae></span></button><span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_hl-ru tm-header__logo" href="/ru/feed"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title><use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a></span><span class="tm-header__divider"></span><!--[--><a class="tm-header__all-flows" href="/ru/articles/">Все потоки</a><!--]--><!----><div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id="search-button"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search" height="24" width="24"><title>Поиск</title><use xlink:href="/img/megazord-v28.cba4c116..svg#search"></use></svg></a><!----><!----><div class="tm-header-user-menu__item tm-header-user-menu__write"><a href="/ru/sandbox/start/" class=""><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_write" height="24" width="24"><title>Написать публикацию</title><use xlink:href="/img/megazord-v28.cba4c116..svg#write"></use></svg></a><!----></div><!--[--><div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="user-menu-settings"><svg class="tm-svg-img tm-header-user-menu__icon" height="24" width="24"><title>Настройки</title><use xlink:href="/img/megazord-v28.cba4c116..svg#page-settings"></use></svg></button></div><a href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/articles/312942/&amp;hl=ru" rel="nofollow" class="tm-header-user-menu__item tm-header-user-menu__login" role="button"><!--[-->Войти<!--]--></a><!--]--><template><!----></template><!--teleport start--><!--teleport end--></div></div><!--]--></div></header><div class="tm-layout"><div class="tm-page-progress-bar"></div><!----><div class="tm-page-width"><!--[--><!----><!----><!----><!--]--></div><main class="tm-layout__container"><div class="tm-page" hl="ru" data-async-called="true" style="--a414e232:300px;--10c4682a:0;--19620736:0;"><!----><div class="tm-page-width"><!--[--><!----><div class="tm-page__wrapper"><!----><div class="tm-page__main_has-sidebar tm-page__main"><div class="pull-down"><!----><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title><use xlink:href="/img/megazord-v28.cba4c116..svg#pull-arrow"></use></svg></div></div><!--[--><div><!--[--><!----><div class="tm-article-presenter" data-async-called="true"><!--[--><!--]--><div class="tm-article-presenter__body" data-test-id="article-body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><!--[--><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><!--[--><div class="tm-article-presenter__header"><!--[--><!--]--><div class="article-snippet tm-article-presenter__snippet" data-v-085cd854><!--[--><!--]--><div class="meta-container" data-v-085cd854><div class="meta" data-v-085cd854><span class="tm-user-info author" data-v-085cd854><a href="/ru/users/yarmolchuk/" class="tm-user-info__userpic" data-test-id="user-info-pic"><!--[--><div class="tm-entity-image"></div><!--]--></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/yarmolchuk/" class="tm-user-info__username" data-test-id="user-info-username"><!--[-->yarmolchuk<!--]--></a><!----><!--[--><span class="tm-article-datetime-published" data-v-085cd854><time data-allow-mismatch datetime="2016-10-19T21:17:42.000Z" title="2016-10-19, 21:17">19  окт  2016 в 21:17</time></span><!--]--></span></span></div><div class="controls" data-v-085cd854><!----><!----><!----><!----></div></div><h1 class="tm-title tm-title_h1" lang="ru" data-test-id="articleTitle" data-v-085cd854><span>Что нового в Swift 3?</span></h1><div class="stats" data-test-id="articleStats" data-v-085cd854><!----><div class="tm-article-reading-time" data-v-085cd854><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title><use xlink:href="/img/megazord-v28.cba4c116..svg#clock"></use></svg></span><span class="tm-article-reading-time__label">10 мин</span></div><span class="tm-icon-counter tm-data-icons__item reach-counter" data-v-085cd854><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Охват и читатели</title><use xlink:href="/img/megazord-v28.cba4c116..svg#counter-views"></use></svg><span class="tm-icon-counter__value" title="23857">24K</span></span></div><div class="tm-publication-hubs__container" data-test-id="articleHubsList" data-v-085cd854><div class="tm-publication-hubs"><!--[--><span class="tm-publication-hub__link-container"><a href="/ru/hubs/objectivec/" class="tm-publication-hub__link"><!--[--><span>Objective C</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб"> * </span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/swift/" class="tm-publication-hub__link"><!--[--><span>Swift</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб"> * </span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/mobile_dev/" class="tm-publication-hub__link"><!--[--><span>Разработка мобильных приложений</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб"> * </span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/ios_dev/" class="tm-publication-hub__link"><!--[--><span>iOS</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб"> * </span><!--]--></a></span><!--]--></div></div><div class="tm-article-labels" data-test-id="articleLabels" data-v-085cd854 data-v-bfa2437b><div class="tm-article-labels__container" data-v-bfa2437b><!----><!--[--><!----><!--[--><!--]--><!--]--></div></div><!----><!----><!--teleport start--><!--teleport end--></div></div><!--[--><!----><div class="article-body" data-gallery-root lang="ru" data-v-aad06d04><div data-v-aad06d04><!--[--><!--]--></div><div id="post-content-body" data-v-aad06d04><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Как мы все давно знаем, Apple интегрировала Swift 3 в Xcode 8. Это первая версия языка с открытым исходным кодом, который работает как на macOS, так и на Linux. Если вы следили за процессом развития языка на Swift Evolution с декабря прошлого года и успели с ним поэкспериментировать в IBM sandbox, вы уже наверное поняли, что в нем появилось множество изменений. Совершенно уверен, что при компилировании существующего проекта в Xcode 8, ваш код удивит вас наличием ошибок. Но это поправимо. Давайте познакомимся с некоторыми изменениями в новой версий языка.<br/>
<br/>
<a name="habracut"></a><br/>
Изменения в новой версий, можно разделить две основные категории:<br/>
<br/>
<ul>
<li>Удаленные функции, которые уже устарели с Swift 2.2</li>
<li>Улучшения языка</li>
</ul><br/>
Давайте начнем с категории удаленных функций, поскольку ее легче понять и вы, наверняка, встречались с этими функциями, когда получали предупреждения в Xcode версий 7.3.<br/>
<br/>
<h3>Операторы ++ и --</h3><br/>
Операторы инкремента и декремента наследия языка C и их функциональность проста — добавить один или вычесть один к определенной переменной:<br/>
<br/>
<pre><code class="objectivec">var i = 0
i++
++i
i--
--i
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Тем не менее, все становится сложнее, когда дело доходит до принятия решения, какой из них выбрать. Каждый из них может быть представлен в двух возможных вариантах: префикс и постфикс — они все функционируют благодаря движку и возвращают значения, которые вы можете использовать или отклонить благодаря перезаггрузке операторов.<br/>
<br/>
Это больше чем достаточно для начинающих, так как они были удалены — используйте операторы присваивания и сложение <b>+=</b> и вычитание <b>-=</b> вместо:<br/>
<br/>
<pre><code class="objectivec">var i = 0
i += 1
i -= 1
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Конечно, вы можете использовать операторы сложения (+) и вычитания (-), а также — совместно использовать операторы присваивания, благодаря чему вы сможете экономить свое время при написании кода, хотя:<br/>
<br/>
<pre><code class="objectivec">i = i + 1
i = i - 1
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
<b>Для ознакомления:</b> <i>Если вы хотите больше узнать о мотивах этого изменения, <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0004-remove-pre-post-inc-decrement.md">посмотрите предложение Криса Латнера</a> по этому поводу.</i><br/>
<br/>
<h3>Стиль языка С для написания циклов уже история</h3><br/>
Наиболее распространенным примером использования операторов инкрементов и декрементов является стиль языка С для написания цикла. Удаление операторов означает удаление всего что с ними связано, поскольку с этим всем вы уже ничего не сможете сделать, в отличии от того, что вы делали ранее с выражениями и оператором для указания диапазона.<br/>
<br/>
Например, если у вас есть несколько знании, вы вероятно будете использовать цикл for для отображения числа от 1 до 10:<br/>
<br/>
<pre><code class="objectivec">for (i = 1; i &lt;= 10; i++) {
    print(i)
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
В Swift 3 это невозможно. Это его прототип в языке Swift 3 — давайте рассмотрим оператор закрытого диапазона (...) в действии:<br/>
<br/>
<pre><code class="objectivec">for i in 1...10 {
    print(i)
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
В качестве альтернативы, вы можете также использовать для-каждого цикла с замкнутыми выражениями и сокращёнными аргументами — боле подробную информацию вы можете найти <a href="https://cosminpupaza.wordpress.com/2015/12/04/for-vs-while-a-beginners-approach/">здесь</a>.<br/>
<br/>
<pre><code class="objectivec">(1...10).forEach {
    print($0)
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
<b>Для ознакомления:</b> <i>Если вы хотите узнать больше о мотивации этого изменения, <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0007-remove-c-style-for-loops.md">посмотрите предложение Эрики Садун</a>.</i><br/>
<br/>
<h3>Удалили переменную из параметров функции</h3><br/>
Параметры функции обычно определяются как константы, поскольку их не нужно изменять внутри функций. Тем не менее, существуют определенные случаи, когда объявление их как переменные может пригодиться. В Swift 2, вы можете отметить параметр функции как переменную с ключевым словом <b>var</b>. После того, как параметр будет указан как <b>var</b>, он создаст локальную копию значения, поэтому вы сможете изменять ее значение в теле функции.<br/>
<br/>
В качестве примера, следующая функция определяет наибольший общий делитель двух заданных чисел — если вы упустили математический курс в средней школе, почитайте больше об этом здесь:<br/>
<br/>
<pre><code class="objectivec">func gcd(var a: Int, var b: Int) -&gt; Int {
 
  if (a == b) {
    return a
  }
 
  repeat {
    if (a &gt; b) {
      a = a - b
    } else {
      b = b - a
    }
  } while (a != b)
 
  return a
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Алгоритм прост: если оба числа уже равны, выполняется возврат одного из них. В противном случае, сравните их, выполните вычитание меньшего из большего и присваивайте результат к большему, пока они не станут равными и выполните возвращение любого из них. Как вы видите, пометив а и Ь в качестве переменных, мы можем изменить их значения в функции.<br/>
<br/>
Swift 3 больше не позволяет разработчикам устанавливать параметры функции, как переменные, поскольку разработчики Swift могут запутаться между <b>var</b> и <b>inout</b>. Таким образом, последняя версия Swift просто удаляет <b>var</b> из параметров функции.<br/>
<br/>
Поэтому, чтобы написать ту же самую функцию <b>gcd</b> в Swift 3, необходим иной подход. Вам нужно сохранить значения параметров функции для локальных переменных:<br/>
<br/>
<pre><code class="objectivec">func gcd(a: Int, b: Int) -&gt; Int {
 
  if (a == b) {
    return a
  }
 
  var c = a
  var d = b
 
  repeat {
    if (c &gt; d) {
      c = c - d
    } else {
      d = d - c
    }
  } while (c != d)
 
  return c
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Если вы хотите узнать больше о мотивах этого решения, вы можете <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0003-remove-var-parameters.md">прочитать оригинальное предложение</a>.<br/>
<br/>
<h3>Последовательное поведение лейблы для параметров функции</h3><br/>
Списки параметров функции являются кортежи, так что вы можете использовать их для вызова функций, до тех пор, пока структура кортежа совпадает с прототипом функции. Возьмем функцию gcd() в качестве примера. Вы можете выполнить вызов следующим образом:<br/>
<br/>
<pre><code class="objectivec">gcd(8, b: 12)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Или вы можете даже вызвать функцию, как показано ниже:<br/>
<br/>
<pre><code class="objectivec">let number = (8, b: 12)
gcd(number)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Как вы видите в Swift 2, вам не нужно указать метку первого параметра. Тем не менее, вы должны указать метку для второго (и остальных параметров) при вызове функции.<br/>
<br/>
Этот синтаксис является запутанным для начинающих разработчиков, поэтому он предназначен для стандартизации поведения меток. В новой версий языка Swift, вы можете вызвать функцию следующим образом:<br/>
<br/>
<pre><code class="objectivec">gcd(a: 8, b: 12)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы должны явно указать метку для первого параметра. Если вы не сделаете этого, Xcode 8 покажет вам сообщение об ошибке.<br/>
<br/>
Ваша первая реакция на это изменение может выглядеть подобно «OMG! Мне придется сделать много изменений в существующем коде ». Вы правы. Это тонны изменений. Таким образом, компания Apple предлагает способ подавить первую метку параметра вызова функции. Вы можете добавить подчеркивание к первому параметру, как показано ниже:<br/>
<br/>
<pre><code class="objectivec">func gcd(_ a: Int, b: Int) -&gt; Int {
 
...
 
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Делая это, вы можете вызвать функцию, используя старый способ — без указания первой метки. Это поможет сделать миграцию кода с Swift 2 на Swift 3 намного проще.<br/>
<br/>
О мотивации и намерении этого изменения, вы можете <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0046-first-label.md">прочесть это предложение</a>.<br/>
<br/>
<h3>Селекторы как строки больше не используются</h3><br/>
Давайте создадим кнопку и выполним какое-то действие, при нажатии на нее — используйте только playground, а не storyboard:<br/>
<br/>
<pre><code class="objectivec">// 1
import UIKit
import XCPlayground
 
// 2
class Responder: NSObject {
 
  func tap() {
    print("Button pressed")
  }
}
let responder = Responder()
 
// 3
let button = UIButton(type: .System)
button.setTitle("Button", forState: .Normal)
button.addTarget(responder, action: "tap", forControlEvents: .TouchUpInside)
button.sizeToFit()
button.center = CGPoint(x: 50, y: 25)
 
// 4
let frame = CGRect(x: 0, y: 0, width: 100, height: 50)
let view = UIView(frame: frame)
view.addSubview(button)
XCPlaygroundPage.currentPage.liveView = view
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Там происходит довольно много событий, так что давайте разобьем их на этапы:<br/>
<br/>
<ol>
<li>Импорт фреймворков UIKit и XCPlayground — вам необходимы чтобы создать кнопку и показать ее в редакторе playground. </li>
<li>Определите метода нажатия, который будет выполнятся, когда пользователь нажимает на кнопку и создайте целевой? логический объект кнопки ее базовый класс NSObject, поскольку селекторы работают только с методами Objective-C.</li>
<li>Объявление кнопки и установка свойств.</li>
<li>Создание view определенного размера, добавление кнопки на view и отображение его в ассистенте редактора Playground.</li>
</ol><br/>
Посмотрите на выделенный код. Селектор кнопки является строкой. Если вы введете его неправильно, то код будет скомпилирован, но произойдет сбой во время его выполнения, так как соответствующий метод может быть не найден.<br/>
<br/>
Чтобы устранить потенциальную проблему во время компиляции, в Swift 3 заменили строку селекторов ключевым словом #selector(). Это позволяет компилятору обнаружить проблему раньше, если вы не правильно укажите имя метода.<br/>
<br/>
<pre><code class="objectivec">button.addTarget(responder, action: #selector(Responder.tap), for: .touchUpInside)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Для понимания причин этого изменения, вы можете <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0022-objc-selectors.md">прочесть предложение Доуга Грегора</a>.<br/>
<br/>
Это что касается удаленных функций. Теперь давайте перейдем к основным моментам модернизации языка.<br/>
<br/>
<h3>Key-paths в виде строки</h3><br/>
Эта функция аналогична предыдущей, но она относится <b>key value coding</b> (KVC) и ключевому-значению наблюдения (KVO):<br/>
<br/>
<pre><code class="objectivec">class Person: NSObject {
  var name: String = ""
 
  init(name: String) {
    self.name = name
  }
}
let me = Person(name: "Cosmin")
me.valueForKeyPath("name")
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы создаете класс <b>Person</b>, который соответствует ключевому-значению кодирования, создаете мою идентичность с классом назначенным инициализатором и используете <b>KVC</b>, чтобы установить имя. <br/>
<br/>
Опять же, если вы сделаете это неправильно, все взорвется!<br/>
<br/>
К счастью, это больше не произойдет в Swift 3. Key-path, были заменены выражением #keyPath():<br/>
<br/>
<pre><code class="objectivec">class Person: NSObject {
  var name: String = ""
 
  init(name: String) {
    self.name = name
  }
}
let me = Person(name: "Cosmin")
me.value(forKeyPath: #keyPath(Person.name))
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Для понимания причин данного изменения, вы можете <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0062-objc-keypaths.md">прочесть предложение Девида Хартс</a>.<br/>
<br/>
<h3>Удален префикс базовых типов <b>NS</b></h3><br/>
Убрали префикс <b>NS</b> для базовых типов. Посмотрим как это работает. Типичным примером является работа с JSON:<br/>
<br/>
<pre><code class="objectivec">let file = NSBundle.mainBundle().pathForResource("tutorials", ofType: "json")
let url = NSURL(fileURLWithPath: file!)
let data = NSData(contentsOfURL: url)
let json = try! NSJSONSerialization.JSONObjectWithData(data!, options: [])
print(json)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы можете использовать базовые классы для подключения к файлу и извлечения данных в формате JSON соответствующим образом: <i>NSBundle -&gt; NSURL -&gt; NSData -&gt; NSJSONSerialization.</i><br/>
<br/>
Префикс <b>NS</b> в Swift 3 не используется, так что все это сводится к<i> Bundle -&gt; URL -&gt; Data -&gt; JSONSerialization():</i><br/>
<br/>
<pre><code class="objectivec">let file = Bundle.main().pathForResource("tutorials", ofType: "json")
let url = URL(fileURLWithPath: file!)
let data = try! Data(contentsOf: url)
let json = try! JSONSerialization.jsonObject(with: data)
print(json)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Для этой процедуры изменения присвоения имен, вы можете проверить это предложение, <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0086-drop-foundation-ns.md">написанное Тони Паркером и Филиппом Хауслером.</a><br/>
<br/>
<h3>M_PI vs .pi</h3><br/>
Давайте вычислим окружности и площадь круга с заданным радиусом:<br/>
<br/>
<pre><code class="objectivec">let r =  3.0
let circumference = 2 * M_PI * r
let area = M_PI * r * r
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Для старых версий Swift, вы используете <b>M_PI</b> для обозначения константы <b>pi</b>. Swift 3 интегрирует константу <b>pi</b> в тип <b>Float</b>, <b>Double</b> и <b>CGFloat</b>:<br/>
<br/>
<pre><code class="objectivec">Float.pi
Double.pi
CGFloat.pi
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Выше представленный фрагмент кода будет написан, как это в Swift 3:<br/>
<br/>
<pre><code class="objectivec">let r = 3.0
let circumference = 2 * Double.pi * r
let area = Double.pi * r * r
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
С помощью логического вывода типа, вы можете даже опустить тип. Вот короткая версия:<br/>
<br/>
<pre><code class="objectivec">let r = 3.0
let circumference = 2 * .pi * r
let area = .pi * r * r
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
<h3>Grand Central Dispatch</h3><br/>
Grand Central Dispatch используется для сетевых операций, которые не блокируют пользовательский интерфейс в основном потоке. Он написано на языке C и его API является большой сложностью для начинающих разработчиков, даже для выполнения простых задач, таких как создание асинхронной очереди и выполнения каких-либо операций:<br/>
<br/>
<pre><code class="objectivec">let queue = dispatch_queue_create("Swift 2.2", nil)
dispatch_async(queue) {
  print("Swift 2.2 queue")
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Swift 3 устраняет весь шаблонный код и избыточный материал, принимая объектно-ориентированный подход:<br/>
<br/>
<pre><code class="objectivec">let queue = DispatchQueue(label: "Swift 3")
queue.async {
  print("Swift 3 queue")
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Для получения дополнительной информации об этом изменении, вы можете <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0088-libdispatch-for-swift3.md">прочитать написанное Мэттом Райт</a>.<br/>
<br/>
<h3>Core Graphics теперь больше Swifty</h3><br/>
Core Graphics представляет собой мощный графический фреймворк, но он использует интерфейс в стиле С, похожий на GCD:<br/>
<br/>
<pre><code class="objectivec">let frame = CGRect(x: 0, y: 0, width: 100, height: 50)
 
class View: UIView {
 
  override func drawRect(rect: CGRect) {
    let context = UIGraphicsGetCurrentContext()
    let blue = UIColor.blueColor().CGColor
    CGContextSetFillColorWithColor(context, blue)
    let red = UIColor.redColor().CGColor
    CGContextSetStrokeColorWithColor(context, red)
    CGContextSetLineWidth(context, 10)
    CGContextAddRect(context, frame)
    CGContextDrawPath(context, .FillStroke)
  }
}
let aView = View(frame: frame)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы создаете view frame, расширяя класс UIView, переопределив метод DrawRect ().<br/>
<br/>
Swift 3 принимает совершенно иной подход — сначала разворачивает текущий графический контекст и выполняет все операции рисования, впоследствии связанные с ним:<br/>
<br/>
<pre><code class="objectivec">let frame = CGRect(x: 0, y: 0, width: 100, height: 50)
 
class View: UIView {
 
  override func draw(_ rect: CGRect) {
    guard let context = UIGraphicsGetCurrentContext() else {
      return
    }
    
    let blue = UIColor.blue().cgColor
    context.setFillColor(blue)
    let red = UIColor.red().cgColor
    context.setStrokeColor(red)
    context.setLineWidth(10)
    context.addRect(frame)
    context.drawPath(using: .fillStroke)
  }
}
let aView = View(frame: frame)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
<b>Примечание:</b> <i>Контекст будет нулевым перед вызовом метода <b>DrawRect()</b>, поэтому вам необходимо его развернуть при помощи выражения guard — подробнее об этом <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/index.html#//apple_ref/c/func/UIGraphicsGetCurrentContext">здесь</a>.</i><br/>
<br/>
<h3>Соглашение о присвоении имен глаголов и существительных</h3><br/>
Время для грамматики! Группы методов в Swift 3 делятся на две категории: методы, которые возвращают некоторое значение — подразумеваются как существительные — и методы, которые выполняют определенный вид действий — подразумеваются как глаголы.<br/>
<br/>
Здесь выполняется вывод от 10 до 1:<br/>
<br/>
<pre><code class="objectivec">for i in (1...10).reverse() {
  print(i)
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы используете метод <b>reverse()</b>, для изменения диапазона. Swift 3 обрабатывает эту операцию как существительное, так как он возвращает исходный диапазон в обратном порядке. Он добавляет суффикс “ed” к методу:<br/>
<br/>
<pre><code class="objectivec">for i in (1...10).reversed() {
  print(i)
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Наиболее распространенное использование кортежей/tuples, чтобы вывести содержимое массива:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
for (index, value) in array.enumerate() {
  print("\(index + 1) \(value)")
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Swift 3 обрабатывает этот метод как существительное, так как он возвращает кортеж, содержащий текущий индекс и значение этого массива, и добавляет суффикс “ed” к нему:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
for (index, value) in array.enumerated() {
  print("\(index + 1) \(value)")
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Другим примером может служить сортировка массива. Вот пример того, как вы можете отсортировать массив в порядке возрастания:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
let sortedArray = array.sort()
print(sortedArray)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Swift 3 обрабатывает эту операцию как существительное, так как он возвращает отсортированный массив. Метод <b>sort</b> теперь называется <b>sorted</b>:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
let sortedArray = array.sorted()
print(sortedArray)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Давайте отсортируем массив, без использования промежуточной константы. В Swift 2, вы можете вызвать функцию следующим образом:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
array.sortInPlace()
print(array)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Вы используете <b>sortInPlace()</b> для сортировки изменяемого массива. Swift 3 обрабатывает этот метод как глагол, так как он выполняет фактическую сортировку без возвращения значений. Он использует только базовое слово, которое описывает действие. Так <b>sortInPlace()</b> теперь называется <b>sort()</b>:<br/>
<br/>
<pre><code class="objectivec">var array = [1, 5, 3, 2, 4]
array.sort()
print(array)
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
Более подробную информацию о соглашении об именах, вы можете проверить в <a href="https://swift.org/documentation/api-design-guidelines/"><b>API Design Guidelines</b></a>.<br/>
<br/>
<h3>API в языке Swift</h3><br/>
Swift 3 принимает простую философию для своих API, — опустить ненужные слова, так что если что-то является излишним или может быть выведено из контекста, удалите его:<br/>
<br/>
<ul>
<li>XCPlaygroundPage.currentPage становится PlaygroundPage.current</li>
<li>button.setTitle(forState) становится button.setTitle(for)</li>
<li>button.addTarget(action, forControlEvents) становится button.addTarget(action, for)</li>
<li>NSBundle.mainBundle () становится Bundle.main ()</li>
<li>NSData (contentsOfURL) становится URL(contentsOf)</li>
<li>NSJSONSerialization.JSONObjectWithData() становится JSONSerialization.jsonObject(with)</li>
<li>UIColor.blueColor () становится UIColor.blue ()</li>
<li>UIColor.redColor () становится UIColor.red ()</li>
</ul><br/>
<h3>Enum</h3><br/>
Swift 3 обрабатывает перечисление как свойства, так что используйте <b>lowerCamelCase</b> вместо <b>upperCamelCase</b> для них:<br/>
<br/>
<ul>
<li>.System становится .system</li>
<li>.TouchUpInside становится .touchUpInside</li>
<li>.FillStroke становится .fillStroke</li>
<li>.CGColor становится .cgColor</li>
</ul><br/>
<h3>@discardableResult</h3><br/>
В Swift 3, Xcode покажет вам предупреждение, если вы не используете возвращаемое значение функции или метода. Вот пример:<br/>
<br/>
<br/>
<br/>
В приведенном выше коде, метод <b>printMessage</b> возвращает полученное сообщение для вызывающего объекта. Тем не менее, возвращаемое значение не используется. Это может быть потенциальной проблемой, так что компилятор в Swift 3 даст вам предупреждение.<br/>
<br/>
В данном случае, если это не является обрабатываемым возвращаемым значением. Вы можете подавить предупреждение путем добавления <b>@discardableResult</b> в объявлении метода:<br/>
<br/>
<pre><code class="objectivec">override func viewDidLoad() {
    super.viewDidLoad()
 
    printMessage(message: "Hello Swift 3!")
}
 
@discardableResult
func printMessage(message: String) -&gt; String {
    let outputMessage = "Output : \(message)"
    print(outputMessage)
    
    return outputMessage
}
</code><div class="code-explainer"><a href="https://sourcecraft.dev/" class="tm-button code-explainer__link" style="visibility: hidden;"></a></div></pre><br/>
<h3>Заключение</h3><br/>
Это все о Swift 3. Новая версия Swift является одним из основных релизов, что делает язык еще лучше. Он содержит много фундаментальных изменений, которые, безусловно могут повлиять на ваш существующий код. Я надеюсь, что эта статья поможет вам лучше понять изменения, и, надеюсь, поможет вам сэкономить некоторое время, чтобы перенести свой проект на Swift.</div></div></div><!----><!----></div><!----><!----></div><!--]--><!----><div class="tm-article-presenter__meta" data-test-id="article-meta-links"><div class="tm-separated-list tag-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[swift]" class="link"><span>swift</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[objective-c]" class="link"><span>objective-c</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0+%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9]" class="link"><span>разработка приложений</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F+%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0]" class="link"><span>мобильная разработка</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0+%D0%BF%D0%BE%D0%B4+ios]" class="link"><span>разработка под ios</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[swift+3]" class="link"><span>swift 3</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[ios+development]" class="link"><span>ios development</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[ios+%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0]" class="link"><span>ios разработка</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[swiftlang]" class="link"><span>swiftlang</span></a><!--]--></li><!--]--><!----></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/objectivec/" class="link"><!--[--><span>Objective C</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/swift/" class="link"><!--[--><span>Swift</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/mobile_dev/" class="link"><!--[--><span>Разработка мобильных приложений</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/ios_dev/" class="link"><!--[--><span>iOS</span><!--]--></a><!--]--></li><!--]--><!----></ul></div></div><!----><!--]--></article><!--]--></div><!----></div><div style="" class="tm-article-sticky-panel" data-test-id="article-sticky-panel"><div class="tm-data-icons tm-data-icons tm-data-icons_space-big tm-article-sticky-panel__icons" data-test-id="article-stats-icons"><div class="article-rating tm-data-icons__item" data-v-b9b05a90><div class="tm-votes-meter votes-switcher" data-v-b9b05a90><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>Всего голосов 38: ↑28 и ↓10</title><use xlink:href="/img/megazord-v28.cba4c116..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 38: ↑28 и ↓10">+16</span></div><!--teleport start--><!--teleport end--><!----></div><!----><!----><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button" data-v-861e2740><span class="tm-svg-icon__wrapper icon" data-v-861e2740><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.cba4c116..svg#counter-favorite"></use></svg></span><span class="counter" title="Количество пользователей, добавивших публикацию в закладки" data-v-861e2740>85</span></button><div class="sharing tm-data-icons__item" title="Поделиться" data-v-daf6ee1d><button class="sharing-button" type="button" data-v-daf6ee1d><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icon" data-v-daf6ee1d><path fill="currentColor" d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z"></path></svg></button><!--teleport start--><!--teleport end--></div><div class="article-comments-counter-link-wrapper tm-data-icons__item" title="Читать комментарии" data-v-8d952463><a href="/ru/articles/312942/comments/" class="article-comments-counter-link" data-test-id="counter-comments" data-v-8d952463><!--[--><svg class="tm-svg-img icon" height="24" width="24" data-v-8d952463><title>Комментарии</title><use xlink:href="/img/megazord-v28.cba4c116..svg#counter-comments"></use></svg><span class="value" data-v-8d952463>20</span><!--]--></a><!----></div><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--teleport start--><!--teleport end--><!----></div></div></div><!--[--><!--]--><div class="tm-article-presenter__footer"><!--[--><!--[--><div class="tm-article-blocks"><!----><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><!----><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><!--[--><div class="article-author" data-test-id="article-author-info" data-async-called="true" data-v-af0d0f90><!--[--><!--]--><div class="tm-user-card tm-user-card tm-user-card_variant-article user-card" data-async-called="true" data-v-af0d0f90><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/yarmolchuk/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><!--[--><div class="tm-entity-image"></div><!--]--></a><div class="tm-user-card__meta"><div class="tm-counter-container karma" title=" 95 голосов " data-v-544d285f><div class="tm-counter-container__header"><!--[--><div class="karma-display positive" data-v-544d285f data-v-3881f4ba>19</div><!----><!--]--></div><div class="tm-counter-container__footer"><!--[--><div class="karma-text" data-v-544d285f>Карма</div><!--teleport start--><!--teleport end--><!--]--></div></div><div class="tm-counter-container"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score" data-test-id="lever-score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">0</span></span><!--]--></div><!----></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Общий рейтинг</span><!--]--></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article tm-user-card__info"><div class="tm-user-card__title tm-user-card__title_variant-article tm-user-card__title"><span class="tm-user-card__name tm-user-card__name_variant-article tm-user-card__name">Dima</span><a href="/ru/users/yarmolchuk/" class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article"><!--[-->@yarmolchuk<!--]--></a><!----></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article tm-user-card__short-info" data-test-id="user-card-speciality">iOS разработчик</p></div></div><!----><div class="tm-user-card__buttons tm-user-card__buttons_variant-article tm-user-card__buttons"><!----><div class="tm-user-card__button"><div class="tm-button-follow tm-user-card__button-follow"><!----><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div></div><!----><!--[--><div class="tm-user-card__button tm-user-card__button_write" data-test-id="user-card-conversations"><svg class="tm-svg-img tm-user-card__button-icon" height="16" width="16"><title>Отправить сообщение</title><use xlink:href="/img/megazord-v28.cba4c116..svg#mail"></use></svg></div><!--]--><!----><!----></div><!----></div><div class="author-contacts" data-test-id="author-contacts" data-v-af0d0f90><!----><!----><!----></div></div><!--]--></div><!--]--><!----></section><!----><!--[--><div class="sponsor-block" style="--d75346b8:0;--11dbf66e:100%;" data-v-580b3119><div class="title" data-v-580b3119>Хабр доступен 24/7 благодаря поддержке друзей</div><div class="content-container" data-v-580b3119><div class="content" data-v-580b3119><div class="content-title-container" data-v-580b3119><div class="content-title" data-v-580b3119>Хабр Курсы для всех</div><div class="sponsor-mark" data-v-580b3119>РЕКЛАМА</div></div><div class="content-text" data-v-580b3119> Практикум, Хекслет, SkyPro, авторские курсы — собрали всех и попросили скидки. Осталось выбрать! </div><a class="content-action" href="https://career.habr.com/courses/?erid=2VSb5wDLYUH&amp;utm_source=habr&amp;utm_medium=sponsorship_hub" target="_blank" data-v-580b3119><button class="btn btn_solid btn_small tm-button_color-horizon" tabindex="0" type="button" data-v-580b3119><!--[--><!--[-->Перейти<!--]--><!--]--></button></a></div></div><div class="footer" data-v-580b3119><!----></div><!----></div><!--]--><!--]--><div class="tm-article-blocks__comments"><div id="publication-comments" class="tm-article-page-comments"><div><!--[--><div class="article-comments-counter-link-wrapper tm-article-comments-counter-button" data-v-8d952463><a href="/ru/articles/312942/comments/" class="article-comments-counter-link button-style" data-test-id="counter-comments" data-v-8d952463><!--[--><svg class="tm-svg-img icon icon--contrasted" height="24" width="24" data-v-8d952463><title>Комментарии</title><use xlink:href="/img/megazord-v28.cba4c116..svg#counter-comments"></use></svg><span class="value value--contrasted" data-v-8d952463> Комментарии 20 </span><!--]--></a><!----></div><!--]--></div></div></div><!--[--><!--[--><!--]--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><!--[--><!--[--><div class="tabs" data-test-id="container" data-v-681e7545><div class="" data-test-id="scroll-area" data-v-681e7545><!--[--><span class="tab-item" data-v-681e7545><button class="active slim tab-link" data-v-681e7545>Лучшие за сутки</button></span><span class="tab-item" data-v-681e7545><button class="slim tab-link" data-v-681e7545>Похожие</button></span><!--]--></div><!----></div><div class="similar-and-daily__tab-view"><div class="daily-articles-list"><ul class="article-card-list" data-v-7f7081d6><!--[--><!--]--><div class="tm-bordered-card" data-v-7f7081d6><!----><!--[--><!--]--></div></ul><div class="daily-articles-block__button-container"><button class="btn btn_transparent btn_small tm-button_color-horizon" tabindex="0" type="button"><!--[--><!--[-->Показать лучшие за всё время<!--]--><!--]--></button></div></div><!----></div><!--]--><!--]--></div><!--]--><!----></section><!--[--><div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-promo"><div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div></div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-inset tm-placeholder-questions"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><!--[--><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><!--]--></ul></div><div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div><!--]--><!----><!--[--><!--]--><!--]--></div><!----><!--]--><!--]--></div></div><!--]--></div><!--]--></div></div><div class="tm-page__sidebar"><!--[--><div class="sidebar" data-v-0050f56d><div id="sidebar-window-placement" data-v-0050f56d></div><!--[--><!--]--></div><!--]--></div></div><!--]--></div><!----></div></main><!----></div><div class="tm-footer-menu"><div class="tm-page-width"><!--[--><div class="tm-footer-menu__container"><!--[--><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Ваш аккаунт</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/articles/312942/&amp;hl=ru" rel="nofollow" target="_self">Войти</a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/articles/312942/&amp;hl=ru" rel="nofollow" target="_self">Регистрация</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Разделы</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/articles/" class="footer-menu__item-link">Статьи</a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">Новости</a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">Хабы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">Компании</a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">Авторы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">Песочница</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Информация</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">Устройство сайта</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">Для авторов</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">Для компаний</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">Документы</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">Соглашение</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">Конфиденциальность</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Услуги</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">Корпоративный блог</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">Медийная реклама</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">Нативные проекты</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">Образовательные программы</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">Стартапам</a></li><!--]--></ul></div></div><!--]--></div><!--]--></div></div><div class="tm-footer"><div class="tm-page-width"><!--[--><div class="tm-footer__container"><!----><div class="social-icons tm-footer__social" data-v-d6e8cb42><!--[--><a class="tm-svg-icon__wrapper social-icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" data-v-d6e8cb42><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>VK</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper social-icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" data-v-d6e8cb42><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Telegram</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper social-icon" href="http://www.youtube.com/@Habr_com" rel="nofollow noopener noreferrer" target="_blank" data-v-d6e8cb42><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Youtube</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper social-icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank" data-v-d6e8cb42><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Яндекс Дзен</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a><!--]--></div><!--teleport start--><!--teleport end--><button class="tm-footer__link"><!----> Настройка языка</button><a href="/ru/feedback/" class="tm-footer__link">Техническая поддержка</a><div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2026,</span><span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank"> Habr </a></span></span></div></div><!--]--></div></div><!----><!----><!--]--></div><!----></div></div>
    <div id="overlays"><!--teleport start anchor--><template><!----></template><!--teleport anchor--><!--teleport start anchor--><template><!----></template><!--teleport anchor--><!--teleport start anchor--><template><!----></template><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--></div>
    
    
    
    
  
  
    
  
    </body>

    </html>
